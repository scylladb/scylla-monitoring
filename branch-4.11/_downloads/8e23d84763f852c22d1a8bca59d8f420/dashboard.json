{"title":"Scylla-Cloud","description":"This dashboard provides a high-level overview of your Scylla cluster to help you monitor its performance and resource usage. \n\nClone this template dashboard to make changes and add your own graphs and widgets. (cloned)","widgets":[{"id":0,"layout":{"x":1,"y":13,"width":30,"height":33},"definition":{"title":"Node status","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"alias":"Operation Mode","conditional_formats":[{"palette":"white_on_gray","value":0,"comparator":"<="},{"palette":"white_on_green","value":3,"comparator":"<="},{"palette":"white_on_red","value":3,"comparator":">"}],"limit":{"count":50,"order":"desc"},"formula":"query1"}],"response_format":"scalar","queries":[{"query":"avg:scylla.scylla_node_operation_mode{$cluster,$dc,$instance} by {instance}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"custom_links":[]}},{"id":1,"layout":{"x":1,"y":1,"width":30,"height":12},"definition":{"type":"image","url":"/static/images/logos/scylla_large.svg","sizing":"fit"}},{"id":2,"layout":{"x":33,"y":8,"width":27,"height":17},"definition":{"title":"Reactor Utilization (%)","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.scylla_reactor_utilization_ag{$cluster,$instance,$dc} by {cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"min":"0","max":"100"},"custom_links":[]}},{"id":3,"layout":{"x":102,"y":8,"width":27,"height":17},"definition":{"title":"Coordinator Requests served $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:scylla.scylla_total_requests{$cluster,$instance,$dc,$by,$scheduling_group_name} by {cluster,dc,instance,shard}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":4,"layout":{"x":33,"y":28,"width":120,"height":5},"definition":{"type":"note","content":"Coordinator Reads and Writes","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":5,"layout":{"x":72,"y":35,"width":36,"height":18},"definition":{"title":"Average Write Latency $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.wlatencya{$cluster,$instance,$scheduling_group_name,$by} by {scheduling_group_name,instance,cluster,dc,shard}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":6,"layout":{"x":72,"y":54,"width":36,"height":18},"definition":{"title":"Average Read latency $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.rlatencya{$cluster,$instance,$scheduling_group_name,$by} by {scheduling_group_name,instance,cluster,dc,shard}","data_source":"metrics","name":"query1"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":7,"layout":{"x":33,"y":106,"width":38,"height":18},"definition":{"title":"Cache hits $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.scylla_ag_cache_row_hits{$cluster,$instance,$by,$dc} by {cluster,dc,instance,shard}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":8,"layout":{"x":72,"y":106,"width":36,"height":18},"definition":{"title":"Cache misses $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.scylla_ag_cache_row_misses{$cluster,$instance,$dc,$by} by {cluster,dc,instance,shard}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":9,"layout":{"x":109,"y":131,"width":36,"height":18},"definition":{"title":"Read timeouts","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"per_second(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:scylla.scylla_storage_proxy_coordinator_read_timeouts_ag{$cluster,$instance,$dc} by {cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":10,"layout":{"x":33,"y":131,"width":38,"height":18},"definition":{"title":"Write timeouts","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"per_second(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:scylla.scylla_storage_proxy_coordinator_write_timeouts_ag{$cluster,$instance,$dc} by {cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":11,"layout":{"x":33,"y":35,"width":38,"height":18},"definition":{"title":"Write requests $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.scylla_coordinator_write_count{$cluster,$instance,$by,$scheduling_group_name,$dc} by {dc,instance,cluster,shard,scheduling_group_name}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":12,"layout":{"x":33,"y":54,"width":38,"height":18},"definition":{"title":"Read requests $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.scylla_coordinator_read_count{$cluster,$instance,$by,$scheduling_group_name,$dc} by {dc,instance,cluster,shard,scheduling_group_name}","data_source":"metrics","name":"query1"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":14,"layout":{"x":33,"y":1,"width":120,"height":5},"definition":{"type":"note","content":"Overview","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":15,"layout":{"x":33,"y":99,"width":120,"height":5},"definition":{"type":"note","content":"Cache","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":16,"layout":{"x":109,"y":106,"width":36,"height":18},"definition":{"title":"Cache MB used $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.scylla_ag_cache_bytes_used{$cluster,$instance,$by,$dc} by {cluster,dc,instance,shard}","data_source":"metrics","name":"query1"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":1084170435256950,"layout":{"x":109,"y":54,"width":36,"height":18},"definition":{"title":"p95 Read latency $by","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.rlatencyp95{$cluster,$instance,$scheduling_group_name,$by} by {instance,scheduling_group_name,by,shard,dc,cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]}},{"id":2910671079228770,"layout":{"x":61,"y":8,"width":24,"height":17},"definition":{"title":"Disk Usage $by","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Available Size","style":{"palette":"red"},"formula":"query3"},{"alias":"Used","formula":"query1 - query2"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.scylla_node_filesystem_size_bytes{$cluster,$dc,$instance,$by,$mountpoint} by {cluster}","data_source":"metrics","name":"query3"},{"query":"avg:scylla.scylla_node_filesystem_size_bytes{$cluster,$dc,$instance,$by,$mountpoint} by {cluster,instance,dc}","data_source":"metrics","name":"query1"},{"query":"avg:scylla.scylla_node_filesystem_avail_bytes{$cluster,$dc,$instance,$by,$mountpoint} by {cluster,instance,dc}","data_source":"metrics","name":"query2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]}},{"id":7714885897954064,"layout":{"x":146,"y":54,"width":36,"height":18},"definition":{"title":"p99 Read latency $by","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.rlatencyp99{$cluster,$instance,$scheduling_group_name,$by} by {instance,scheduling_group_name,by,shard,dc,cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]}},{"id":4260397812259784,"layout":{"x":109,"y":35,"width":36,"height":18},"definition":{"title":"p95 Write latency $by","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.wlatencyp95{$cluster,$instance,$scheduling_group_name,$by} by {instance,scheduling_group_name,by,shard,dc,cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]}},{"id":6404285183751502,"layout":{"x":146,"y":35,"width":36,"height":18},"definition":{"title":"p99 Write latency $by","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.wlatencyp99{$cluster,$instance,$scheduling_group_name,$by} by {instance,scheduling_group_name,by,shard,dc,cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]}},{"id":6799935691210890,"layout":{"x":33,"y":124,"width":120,"height":5},"definition":{"type":"note","content":"Timeouts and Errors","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":8578124602713126,"layout":{"x":72,"y":131,"width":36,"height":18},"definition":{"title":"Write Unavailable","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"per_second(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:scylla.scylla_storage_proxy_coordinator_write_unavailable_ag{$cluster,$instance,$dc} by {cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":7744631424303374,"layout":{"x":146,"y":131,"width":36,"height":18},"definition":{"title":"Read Unavailable","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"per_second(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:scylla.scylla_storage_proxy_coordinator_read_unavailable_ag{$cluster,$instance,$dc} by {cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":4483288196297726,"layout":{"x":130,"y":8,"width":26,"height":17},"definition":{"title":"Backup and Repair","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1 * 100"},{"formula":"query2 * 100"}],"response_format":"timeseries","queries":[{"query":"avg:scylla.scylla_manager_backup_progress{$cluster} by {cluster}","data_source":"metrics","name":"query1"},{"query":"avg:scylla.scylla_manager_repair_progress{$cluster} by {cluster}","data_source":"metrics","name":"query2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]}},{"id":7082509374944536,"layout":{"x":157,"y":8,"width":12,"height":17},"definition":{"title":"Backup Progress","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1 * 100"}],"response_format":"scalar","queries":[{"query":"avg:scylla.scylla_manager_backup_progress{$cluster}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"autoscale":true,"custom_unit":"%","precision":0,"timeseries_background":{"type":"area"}}},{"id":4398985445570504,"layout":{"x":170,"y":8,"width":12,"height":17},"definition":{"title":"Repair Progress","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1 * 100"}],"response_format":"scalar","queries":[{"query":"avg:scylla.scylla_manager_repair_progress{$cluster}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"autoscale":true,"custom_unit":"%","precision":0,"timeseries_background":{"type":"area"}}},{"id":7668417540546962,"layout":{"x":85,"y":8,"width":16,"height":17},"definition":{"title":"Disks Full","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"exclude_null(cutoff_min(1 - query1 / query2, 0.9))","style":{"palette":"warm"}}],"response_format":"timeseries","queries":[{"query":"max:scylla.scylla_node_filesystem_avail_bytes{$cluster} by {instance,mountpoint,cluster,dc}","data_source":"metrics","name":"query1"},{"query":"max:scylla.scylla_node_filesystem_size_bytes{$cluster} by {instance,mountpoint,cluster,dc}","data_source":"metrics","name":"query2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[{"value":"y = 1","display_type":"error bold"}]}},{"id":8931485274504480,"layout":{"x":33,"y":72,"width":120,"height":5},"definition":{"type":"note","content":"Network","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":3216511357119388,"layout":{"x":33,"y":79,"width":38,"height":18},"definition":{"title":"Received Packets $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"query":"avg:scylla.node_network_receive_packets{$cluster,$instance,$by,$dc} by {dc,instance,cluster}","data_source":"metrics","name":"query1"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":1482826489392148,"layout":{"x":109,"y":79,"width":36,"height":18},"definition":{"title":"Transmit Packets $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"query":"avg:scylla.node_network_transmit_packets{$cluster,$instance,$by,$dc} by {dc,instance,cluster}","data_source":"metrics","name":"query1"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":4324092003141290,"layout":{"x":72,"y":79,"width":36,"height":18},"definition":{"title":"Received Bytes $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"query":"avg:scylla.node_network_receive_bytes{$cluster,$instance,$by,$dc} by {dc,instance,cluster}","data_source":"metrics","name":"query1"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}},{"id":6786209057078918,"layout":{"x":146,"y":79,"width":36,"height":18},"definition":{"title":"Transmit Bytes $by","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"query":"avg:scylla.node_network_transmit_bytes{$cluster,$instance,$by,$dc} by {dc,instance,cluster}","data_source":"metrics","name":"query1"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]}}],"template_variables":[{"name":"cluster","prefix":"cluster","available_values":[],"default":"*"},{"name":"dc","prefix":"dc","available_values":[],"default":"*"},{"name":"instance","prefix":"instance","available_values":[],"default":"*"},{"name":"scheduling_group_name","prefix":"scheduling_group_name","available_values":[],"default":"*"},{"name":"by","prefix":"by","available_values":[],"default":"cluster"},{"name":"mountpoint","prefix":"mountpoint","available_values":[],"default":"/var/lib/scylla"}],"layout_type":"free","notify_list":[],"id":"r42-yag-cuw"}
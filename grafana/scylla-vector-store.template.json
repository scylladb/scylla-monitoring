{
    "dashboard": {
        "class": "dashboard",
        "uid": "vector-store-__SCYLLA_VERSION_DASHED__",
        "originalTitle": "Vector Store",
        "rows": [
            {
                "class": "row",
                "height": "150px",
                "panels": [
                    {
                        "class": "small_stat",
                        "span": 3,
                        "title": "Status",
                        "targets": [
                            {
                                "expr": "count(scrape_samples_scraped{job=\"vector_store\"}) OR vector(0)",
                                "intervalFactor": 1,
                                "refId": "A",
                                "step": 40
                            }
                        ],
                        "fieldConfig": {
                            "defaults": {
                                "noValue": " Offline",
                                "thresholds": {
                                    "mode": "absolute",
                                    "steps": [
                                        {
                                            "color": "red",
                                            "value": null
                                        },
                                        {
                                            "color": "green",
                                            "value": 1
                                        }
                                    ]
                                },
                                "mappings": [
                                    {
                                        "from": "",
                                        "id": 0,
                                        "text": "Offline",
                                        "to": "",
                                        "type": 1,
                                        "value": "0"
                                    },
                                    {
                                        "from": "",
                                        "id": 1,
                                        "text": "Online",
                                        "to": "",
                                        "type": 1,
                                        "value": "1"
                                    }
                                ]
                            }
                        }
                    },
                    {
                        "class": "vertical_lcd",
                        "fieldConfig": {
                            "defaults": {
                                "custom": {},
                                "unit": "percent",
                                "decimals": 0,
                                "thresholds": {
                                    "mode": "absolute",
                                    "steps": [
                                        {
                                            "color": "green",
                                            "value": null
                                        }
                                    ]
                                },
                                "mappings": []
                            },
                            "overrides": []
                        },
                        "gridPos": {
                            "w": 1,
                            "h": 4
                        },
                        "targets": [
                            {
                                "expr": "100-100*sum(node_filesystem_avail_bytes{job=\"vector_store_os\"})/sum(node_filesystem_size_bytes{job=\"vector_store_os\"})",
                                "legendFormat": "",
                                "interval": "",
                                "refId": "A",
                                "instant": true
                            }
                        ]
                    },
                    {
                        "class": "small_stat",
                        "fieldConfig": {
                            "defaults": {
                                "mappings": [],
                                "thresholds": {
                                    "mode": "absolute",
                                    "steps": [
                                        {
                                            "color": "green",
                                            "value": null
                                        }
                                    ]
                                },
                                "unit": "decbytes"
                            },
                            "overrides": []
                        },
                        "targets": [
                            {
                                "expr": "sum(node_filesystem_size_bytes{job=\"vector_store_os\"})-sum(node_filesystem_avail_bytes{job=\"vector_store_os\"})",
                                "intervalFactor": 1,
                                "legendFormat": "",
                                "refId": "A",
                                "step": 40
                            }
                        ],
                        "title": "Disk"
                    },
                    {
                        "class": "small_stat_area",
                        "description": "",
                        "fieldConfig": {
                            "defaults": {
                                "custom": {},
                                "unit": "percent",
                                "decimals": 0,
                                "thresholds": {
                                    "mode": "absolute",
                                    "steps": [
                                        {
                                            "color": "green",
                                            "value": null
                                        },
                                        {
                                            "color": "red",
                                            "value": 90
                                        }
                                    ]
                                },
                                "mappings": []
                            },
                            "overrides": []
                        },
                        "targets": [
                            {
                                "expr": "100*avg(sum(rate(node_cpu_seconds_total{job=\"vector_store_os\", mode!~\"idle\"}[1m])) by(cpu))",
                                "refId": "A"
                            }
                        ],
                        "title": "CPU"
                    },
                    {
                        "class": "small_stat",
                        "targets": [
                            {
                                "expr": "count(index_size{job=\"vector_store\"})",
                                "intervalFactor": 1,
                                "legendFormat": "",
                                "refId": "A",
                                "step": 40
                            }
                        ],
                        "title": "# Indexes"
                    }
                ],
                "title": "Summary row"
            },
            {
                "class": "row",
                "panels": [
                    {
                        "class": "collapsible_row_panel",
                        "repeat": "index",
                        "collapsed": false,
                        "title": "$index"
                    }
                ]
            },
            {
                "class": "row",
                "panels": [
                    {
                        "class": "ops_panel",
                        "targets": [
                            {
                                "expr": "rate(request_latency_seconds_count{index_name=\"$index\"}[$__rate_interval])",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "refId": "A",
                                "legendFormat": "{{keyspace}} {{index_name}}"
                            }
                        ],
                        "span": 3,
                        "title": "Index requests rate"
                    },
                    {
                        "class": "seconds_panel",
                        "targets": [
                            {
                                "expr": "rate(request_latency_seconds_sum{index_name=\"$index\"}[$__rate_interval])/rate(request_latency_seconds_count{index_name=\"$index\"}[$__rate_interval])",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "refId": "A",
                                "legendFormat": "{{keyspace}} {{index_name}}"
                            }
                        ],
                        "span": 3,
                        "title": "Average Latency"
                    },
                    {
                        "class": "seconds_panel",
                        "targets": [
                            {
                                "expr": "histogram_quantile(0.95, sum(rate(request_latency_seconds_bucket{index_name=\"$index\"}[$__rate_interval])) by (keyspace,index_name, le))",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "refId": "A",
                                "legendFormat": "{{keyspace}} {{index_name}}"
                            }
                        ],
                        "span": 3,
                        "title": "P95 Latency"
                    },
                    {
                        "class": "seconds_panel",
                        "targets": [
                            {
                                "expr": "histogram_quantile(0.99, sum(rate(request_latency_seconds_bucket{index_name=\"$index\"}[$__rate_interval])) by (keyspace,index_name, le))",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "refId": "A",
                                "legendFormat": "{{keyspace}} {{index_name}}"
                            }
                        ],
                        "span": 3,
                        "title": "P99 Latency"
                    }

                ],
                "title": "Index Row"
            },
            {
                "class": "monitoring_version_row"
            }
        ],
        "annotations": {
            "list": []
        },
        "templating": {
            "list": [
                {
                    "class": "template_variable_all",
                    "label": "index",
                    "name": "index",
                    "query": "label_values(index_size{},index_name)",
                    "sort": 3
                },
                {
                    "class": "template_variable_custom",
                    "current": {
                        "text": "__SCYLLA_VERSION_DOT__",
                        "value": "__SCYLLA_VERSION_DOT__"
                    },
                    "name": "scylla_version",
                    "options": [
                        {
                            "selected": true,
                            "text": "__SCYLLA_VERSION_DOT__",
                            "value": "__SCYLLA_VERSION_DOT__"
                        }
                    ],
                    "query": "__SCYLLA_VERSION_DOT__"
                },
                {
                    "class": "monitor_version_var"
                }
            ]
        },
        "tags": [
            "__SCYLLA_VERSION_DOT__"
        ],
        "time": {
            "from": "now-30m",
            "to": "now"
        },
        "title": "Vector Store",
        "overwrite": true,
        "version": 3
    }
}